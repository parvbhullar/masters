{"ast":null,"code":"var _jsxFileName = \"/home/sunny/PycharmProjects/master/frontend/src/App.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport { Table, Button } from 'antd';\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      subCategories: [],\n      categories: [],\n      sortedInfo: null\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://127.0.0.1:8000/product_list/';\n    fetch(apiUrl).then(response => response.json()).then(data => this.setState({\n      products: data\n    }));\n    const apiUrl2 = 'http://127.0.0.1:8000/sub_category_list/';\n    fetch(apiUrl2).then(response => response.json()).then(data => this.setState({\n      subCategories: data\n    }));\n    const apiUrl3 = 'http://127.0.0.1:8000/category_list/';\n    fetch(apiUrl3).then(response => response.json()).then(data => this.setState({\n      categories: data\n    }));\n  }\n\n  render() {\n    let {\n      sortedInfo,\n      products,\n      categories,\n      subCategories\n    } = this.state;\n    console.log(products[0]);\n    let categoryFilter = [];\n    let subCategoryFilter = [];\n\n    if (categories) {\n      categories.map((item, key) => categoryFilter.push({\n        text: item.name,\n        value: item.name\n      }));\n    }\n\n    if (subCategories) {\n      subCategories.map((item, key) => subCategoryFilter.push({\n        text: item.name,\n        value: item.name\n      }));\n    }\n\n    sortedInfo = sortedInfo || {};\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      sorter: (a, b) => {\n        return a.name.localeCompare(b.name);\n      },\n      sortDirections: ['descend', 'ascend']\n    }, {\n      title: 'Sub Category',\n      render: data => data.sub_category.name,\n      key: 'sub_category',\n      filters: subCategoryFilter,\n      onFilter: (value, record) => record.sub_category.name.includes(value),\n      sorter: (a, b) => a.sub_category.name.length - b.sub_category.name.length,\n      sortDirections: ['descend', 'ascend']\n    }, {\n      title: 'Category',\n      render: data => data.sub_category.category.name,\n      key: 'category',\n      filters: categoryFilter,\n      onFilter: (value, record) => record.sub_category.category.name.includes(value),\n      sorter: (a, b) => a.sub_category.category.name.length - b.sub_category.category.name.length,\n      sortDirections: ['descend', 'ascend']\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-operations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.clearFilters,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, \"Add\")), /*#__PURE__*/React.createElement(Table, {\n      columns: columns,\n      dataSource: products,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/sunny/PycharmProjects/master/frontend/src/App.js"],"names":["React","ReactDOM","Table","Button","App","Component","state","products","subCategories","categories","sortedInfo","componentDidMount","apiUrl","fetch","then","response","json","data","setState","apiUrl2","apiUrl3","render","console","log","categoryFilter","subCategoryFilter","map","item","key","push","text","name","value","columns","title","dataIndex","sorter","a","b","localeCompare","sortDirections","sub_category","filters","onFilter","record","includes","length","category","clearFilters","handleChange","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css' \nimport './App.css';\n\nimport { Table, Button } from 'antd';\n\n\nexport default class App extends React.Component {\n\n  state = {\n    products : [],\n    subCategories : [],\n    categories : [],\n    sortedInfo: null,\n  }\n\n  componentDidMount() {\n      const apiUrl = 'http://127.0.0.1:8000/product_list/';\n      fetch(apiUrl)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              products: data\n            })\n      );\n      const apiUrl2 = 'http://127.0.0.1:8000/sub_category_list/';\n      fetch(apiUrl2)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              subCategories: data\n            })\n      );\n      const apiUrl3 = 'http://127.0.0.1:8000/category_list/';\n      fetch(apiUrl3)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              categories: data\n            })\n      );\n  }\n\n  \n  render() {\n    let { sortedInfo, products,categories,subCategories } = this.state;\n    console.log(products[0]);\n\n    let categoryFilter = [];\n    let subCategoryFilter = [];\n\n    if(categories){\n      categories.map((item, key) =>\n        categoryFilter.push(\n          { text: item.name , value: item.name },\n        ),\n      );\n    }\n\n    if(subCategories){\n      subCategories.map((item, key) =>\n      subCategoryFilter.push(\n          { text: item.name , value: item.name },\n        ),\n      );\n    }\n\n\n    sortedInfo = sortedInfo || {};\n\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      sorter: (a, b) => { return a.name.localeCompare(b.name)},\n      sortDirections: ['descend', 'ascend'],\n    },  {\n      title: 'Sub Category',\n      render: (data) => data.sub_category.name,\n      key: 'sub_category',\n      filters: subCategoryFilter,\n      onFilter: (value, record) => record.sub_category.name.includes(value),\n      sorter: (a, b) => a.sub_category.name.length - b.sub_category.name.length,\n      sortDirections: ['descend', 'ascend'],\n    },{\n      title: 'Category',\n      render: (data) => data.sub_category.category.name,\n      key: 'category',\n      filters: categoryFilter,\n      onFilter: (value, record) => record.sub_category.category.name.includes(value),\n      sorter: (a, b) => a.sub_category.category.name.length - b.sub_category.category.name.length,\n      sortDirections: ['descend', 'ascend'],\n    }];\n    return (\n      <div>\n        <div className=\"table-operations\">\n          <Button onClick={this.clearFilters}>Add</Button>\n        </div>\n        <Table columns={columns} dataSource={products} onChange={this.handleChange} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"]},"metadata":{},"sourceType":"module"}