{"ast":null,"code":"var _jsxFileName = \"/home/sunny/PycharmProjects/master/frontend/src/App.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport { Table, Button } from 'antd';\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: []\n    };\n    this.state = {\n      filteredInfo: null,\n      sortedInfo: null\n    };\n\n    this.handleChange = (pagination, filters, sorter) => {\n      console.log('Various parameters', pagination, filters, sorter);\n      this.setState({\n        filteredInfo: filters,\n        sortedInfo: sorter\n      });\n    };\n\n    this.clearFilters = () => {\n      this.setState({\n        filteredInfo: null\n      });\n    };\n\n    this.clearAll = () => {\n      this.setState({\n        filteredInfo: null,\n        sortedInfo: null\n      });\n    };\n\n    this.setAgeSort = () => {\n      this.setState({\n        sortedInfo: {\n          order: 'descend',\n          columnKey: 'age'\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://127.0.0.1:8000/product_list/';\n    fetch(apiUrl, {\n      header: {\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(response => response.json()).then(data => this.setState({\n      products: data\n    }));\n  }\n\n  render() {\n    let {\n      sortedInfo,\n      filteredInfo,\n      products\n    } = this.state;\n    console.log(products);\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      filters: [{\n        text: 'Joe',\n        value: 'Joe'\n      }, {\n        text: 'Jim',\n        value: 'Jim'\n      }],\n      filteredValue: filteredInfo.name || null,\n      onFilter: (value, record) => record.name.includes(value),\n      sorter: (a, b) => a.name.length - b.name.length,\n      sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order\n    }, {\n      title: 'Age',\n      dataIndex: 'age',\n      key: 'age',\n      sorter: (a, b) => a.age - b.age,\n      sortOrder: sortedInfo.columnKey === 'age' && sortedInfo.order\n    }, {\n      title: 'Address',\n      dataIndex: '{sub_category.name}',\n      key: 'address',\n      filters: [{\n        text: 'London',\n        value: 'London'\n      }, {\n        text: 'New York',\n        value: 'New York'\n      }],\n      filteredValue: filteredInfo.address || null,\n      onFilter: (value, record) => record.address.includes(value),\n      sorter: (a, b) => a.address.length - b.address.length,\n      sortOrder: sortedInfo.columnKey === 'address' && sortedInfo.order\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-operations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.setAgeSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, \"Sort age\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.clearFilters,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Clear filters\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.clearAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"Clear filters and sorters\")), /*#__PURE__*/React.createElement(Table, {\n      columns: columns,\n      dataSource: products,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/sunny/PycharmProjects/master/frontend/src/App.js"],"names":["React","ReactDOM","Table","Button","App","Component","state","products","filteredInfo","sortedInfo","handleChange","pagination","filters","sorter","console","log","setState","clearFilters","clearAll","setAgeSort","order","columnKey","componentDidMount","apiUrl","fetch","header","then","response","json","data","render","columns","title","dataIndex","key","text","value","filteredValue","name","onFilter","record","includes","a","b","length","sortOrder","age","address","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css' \nimport './App.css';\n\nimport { Table, Button } from 'antd';\n\n\nexport default class App extends React.Component {\n\n  state = {\n    products : [],\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://127.0.0.1:8000/product_list/';\n    fetch(apiUrl, {\n      \n      header: {\n        'Access-Control-Allow-Origin':'*',\n      }\n    })\n      .then((response) => response.json())\n      .then((data) => \n           this.setState({\n            products: data\n          })\n      );\n  }\n\n\n  state = {\n    filteredInfo: null,\n    sortedInfo: null,\n  };\n  handleChange = (pagination, filters, sorter) => {\n    console.log('Various parameters', pagination, filters, sorter);\n    this.setState({\n      filteredInfo: filters,\n      sortedInfo: sorter,\n    });\n  }\n  clearFilters = () => {\n    this.setState({ filteredInfo: null });\n  }\n  clearAll = () => {\n    this.setState({\n      filteredInfo: null,\n      sortedInfo: null,\n    });\n  }\n  setAgeSort = () => {\n    this.setState({\n      sortedInfo: {\n        order: 'descend',\n        columnKey: 'age',\n      },\n    });\n  }\n  render() {\n    let { sortedInfo, filteredInfo, products } = this.state;\n    console.log(products);\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      filters: [\n        { text: 'Joe', value: 'Joe' },\n        { text: 'Jim', value: 'Jim' },\n      ],\n      filteredValue: filteredInfo.name || null,\n      onFilter: (value, record) => record.name.includes(value),\n      sorter: (a, b) => a.name.length - b.name.length,\n      sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order,\n    }, {\n      title: 'Age',\n      dataIndex: 'age',\n      key: 'age',\n      sorter: (a, b) => a.age - b.age,\n      sortOrder: sortedInfo.columnKey === 'age' && sortedInfo.order,\n    }, {\n      title: 'Address',\n      dataIndex: '{sub_category.name}',\n      key: 'address',\n      filters: [\n        { text: 'London', value: 'London' },\n        { text: 'New York', value: 'New York' },\n      ],\n      filteredValue: filteredInfo.address || null,\n      onFilter: (value, record) => record.address.includes(value),\n      sorter: (a, b) => a.address.length - b.address.length,\n      sortOrder: sortedInfo.columnKey === 'address' && sortedInfo.order,\n    }];\n    return (\n      <div>\n        <div className=\"table-operations\">\n          <Button onClick={this.setAgeSort}>Sort age</Button>\n          <Button onClick={this.clearFilters}>Clear filters</Button>\n          <Button onClick={this.clearAll}>Clear filters and sorters</Button>\n        </div>\n        <Table columns={columns} dataSource={products} onChange={this.handleChange} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"]},"metadata":{},"sourceType":"module"}