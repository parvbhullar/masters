{"ast":null,"code":"var _jsxFileName = \"/home/sunny/PycharmProjects/master/frontend/src/App.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport { Table, Button } from 'antd';\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      subCategories: [],\n      categories: []\n    };\n    this.state = {\n      filteredInfo: null,\n      sortedInfo: null\n    };\n\n    this.handleChange = (pagination, filters, sorter) => {\n      console.log('Various parameters', pagination, filters, sorter);\n      this.setState({\n        filteredInfo: filters,\n        sortedInfo: sorter\n      });\n    };\n\n    this.clearFilters = () => {\n      this.setState({\n        filteredInfo: null\n      });\n    };\n\n    this.clearAll = () => {\n      this.setState({\n        filteredInfo: null,\n        sortedInfo: null\n      });\n    };\n\n    this.setAgeSort = () => {\n      this.setState({\n        sortedInfo: {\n          order: 'descend',\n          columnKey: 'age'\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://127.0.0.1:8000/product_list/';\n    fetch(apiUrl).then(response => response.json()).then(data => this.setState({\n      products: data\n    }));\n    const apiUrl2 = 'http://127.0.0.1:8000/sub_category_list/';\n    fetch(apiUrl2).then(response => response.json()).then(data => this.setState({\n      subCategories: data\n    }));\n    const apiUrl3 = 'http://127.0.0.1:8000/category_list/';\n    fetch(apiUrl3).then(response => response.json()).then(data => this.setState({\n      categories: data\n    }));\n  }\n\n  render() {\n    let {\n      sortedInfo,\n      filteredInfo,\n      products,\n      categories,\n      subCategories\n    } = this.state;\n    console.log(categories);\n    let categoryFilter = [];\n\n    if (categories) {\n      categories.map((item, key) => categoryFilter.push({\n        text: 'item.name',\n        value: 'item.name'\n      }), console.log(categoryFilter));\n    }\n\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      sorter: (a, b) => a.name.length - b.name.length,\n      sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order\n    }, {\n      title: 'Category',\n      render: data => data.sub_category.category.name,\n      key: 'category',\n      sorter: (a, b) => a.sub_category.category.name.length - b.sub_category.category.name.length,\n      sortOrder: sortedInfo.columnKey === 'category' && sortedInfo.order\n    }, {\n      title: 'Sub Category',\n      render: data => data.sub_category.name,\n      key: 'sub_category',\n      // filters: [\n      //   { text: 'London', value: 'London' },\n      //   { text: 'New York', value: 'New York' },\n      // ],\n      // filteredValue: filteredInfo.address || null,\n      // onFilter: (value, record) => record.address.includes(value),\n      sorter: (a, b) => a.sub_category.name.length - b.sub_category.name.length,\n      sortOrder: sortedInfo.columnKey === 'sub_category' && sortedInfo.order\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-operations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.clearFilters,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"Clear filters\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.clearAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"Clear filters and sorters\")), /*#__PURE__*/React.createElement(Table, {\n      columns: columns,\n      dataSource: products,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/home/sunny/PycharmProjects/master/frontend/src/App.js"],"names":["React","ReactDOM","Table","Button","App","Component","state","products","subCategories","categories","filteredInfo","sortedInfo","handleChange","pagination","filters","sorter","console","log","setState","clearFilters","clearAll","setAgeSort","order","columnKey","componentDidMount","apiUrl","fetch","then","response","json","data","apiUrl2","apiUrl3","render","categoryFilter","map","item","key","push","text","value","columns","title","dataIndex","a","b","name","length","sortOrder","sub_category","category","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css' \nimport './App.css';\n\nimport { Table, Button } from 'antd';\n\n\nexport default class App extends React.Component {\n\n  state = {\n    products : [],\n    subCategories : [],\n    categories : [],\n  }\n\n  componentDidMount() {\n      const apiUrl = 'http://127.0.0.1:8000/product_list/';\n      fetch(apiUrl)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              products: data\n            })\n      );\n      const apiUrl2 = 'http://127.0.0.1:8000/sub_category_list/';\n      fetch(apiUrl2)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              subCategories: data\n            })\n      );\n      const apiUrl3 = 'http://127.0.0.1:8000/category_list/';\n      fetch(apiUrl3)\n        .then((response) => response.json())\n        .then((data) => \n            this.setState({\n              categories: data\n            })\n      );\n  }\n\n\n  state = {\n    filteredInfo: null,\n    sortedInfo: null,\n  };\n  handleChange = (pagination, filters, sorter) => {\n    console.log('Various parameters', pagination, filters, sorter);\n    this.setState({\n      filteredInfo: filters,\n      sortedInfo: sorter,\n    });\n  }\n  clearFilters = () => {\n    this.setState({ filteredInfo: null });\n  }\n  clearAll = () => {\n    this.setState({\n      filteredInfo: null,\n      sortedInfo: null,\n    });\n  }\n  setAgeSort = () => {\n    this.setState({\n      sortedInfo: {\n        order: 'descend',\n        columnKey: 'age',\n      },\n    });\n  }\n  render() {\n    let { sortedInfo, filteredInfo, products,categories,subCategories } = this.state;\n    console.log(categories);\n\n    let categoryFilter = [];\n\n    if(categories){\n      categories.map((item, key) =>\n        categoryFilter.push(\n          { text: 'item.name' , value: 'item.name' },\n        ),\n        console.log(categoryFilter)\n      );\n    }\n   \n\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [{\n      title: 'Name',\n      dataIndex: 'name',\n      key: 'name',\n      sorter: (a, b) => a.name.length - b.name.length,\n      sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order,\n    }, {\n      title: 'Category',\n      render: (data) => data.sub_category.category.name,\n      key: 'category',\n      sorter: (a, b) => a.sub_category.category.name.length - b.sub_category.category.name.length,\n      sortOrder: sortedInfo.columnKey === 'category' && sortedInfo.order,\n    }, {\n      title: 'Sub Category',\n      render: (data) => data.sub_category.name,\n      key: 'sub_category',\n      // filters: [\n      //   { text: 'London', value: 'London' },\n      //   { text: 'New York', value: 'New York' },\n      // ],\n      // filteredValue: filteredInfo.address || null,\n      // onFilter: (value, record) => record.address.includes(value),\n      sorter: (a, b) => a.sub_category.name.length - b.sub_category.name.length,\n      sortOrder: sortedInfo.columnKey === 'sub_category' && sortedInfo.order,\n    }];\n    return (\n      <div>\n        <div className=\"table-operations\">\n          <Button onClick={this.clearFilters}>Clear filters</Button>\n          <Button onClick={this.clearAll}>Clear filters and sorters</Button>\n        </div>\n        <Table columns={columns} dataSource={products} onChange={this.handleChange} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"]},"metadata":{},"sourceType":"module"}